ensure(val, type)
    if val != null
        unless typeof(val) == type
            error('Expected a ' + type + ', but got ' + typeof(val) + ' ( ' + val + ' ) ' )